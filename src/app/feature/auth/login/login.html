<div class="login-wrapper">
  <mat-card class="login-card">
    <h2 class="loginHead">Welcome Back ðŸ‘‹</h2>

    <mat-card-content>
      <form #loginForm="ngForm">

        <!-- Username -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Username</mat-label>
          <input
            matInput
            name="username"
            [(ngModel)]="username"
            required
            #usernameCtrl="ngModel"
            placeholder="Enter your username"
          />
          @if(usernameCtrl.invalid && usernameCtrl.touched){
          <mat-error>
            Username is required
          </mat-error>
        }
        </mat-form-field>

        <!-- Password -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <input
            matInput
            name="password"
            [(ngModel)]="password"
            type="password"
            required
            #passwordCtrl="ngModel"
            placeholder="Enter your password"
          />
          @if(passwordCtrl.invalid && passwordCtrl.touched){
          <mat-error>
            Password is required
          </mat-error>
        }
        </mat-form-field>

        <!-- Submit Button -->
        <button (click)="onSubmit()"
          mat-raised-button
          color="primary"
          class="full-width"
          [disabled]="loginForm.invalid"
          type="button"
        >
          Login
        </button>
        @if (message) {
         <p [ngStyle]="isSuccess ? { color: 'green' } : { color: 'red' }" style="text-align: center;">{{ message }}</p>
        }
        <div class="actions-row">
          <a class="forgot-link" href="#">Forgot Password?</a>
        </div>

        <mat-card class="signup-sec">
          <p class="actions-row">
            Don't have an account?
            <a routerLink="/taskease/signup" class="signup">Sign Up</a>
          </p>
        </mat-card>
      </form>
    </mat-card-content>
  </mat-card>
</div>
